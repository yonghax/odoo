<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <!--Email template -->
        <record id="email_template_notification_submit_advance" model="mail.template">
            <field name="name">Notification to Dept Head to Approve Advance</field>
            <field name="model_id" ref="hr_advance.model_hr_advance"/>
            <field name="auto_delete" eval="True"/>
            <field name="email_from"><![CDATA[${object.employee_id.name} <${(object.employee_id.work_email or object.company_id.email)|safe}>]]></field>
            <field name="email_to">${object.employee_id.department_id.manager_id.work_email|safe}</field>
            <field name="subject">Expense Advance Approval: ${object.name} from ${object.employee_id.name or 'Unknown'}</field>
            <field name="body_html"><![CDATA[
<p>This Expense Advance need to Approve by you. Here are some details:</p>
<ul>
	<li>Description: <strong>${object.name}</strong></li>
	<li>Employee: ${object.employee_id.name}</li>
	<li>Amount: <strong>${"{:,.2f}".format(object.amount)}</strong></li>
	% if object.description:
	<li>Notes: ${object.description}</li>
	% endif
</ul>
            ]]></field>
        </record>
        
        <record id="email_template_notification_approve_advance" model="mail.template">
            <field name="name">Notification Approved Advance</field>
            <field name="model_id" ref="hr_advance.model_hr_advance"/>
            <field name="auto_delete" eval="True"/>
            <field name="email_from">${object.employee_id.department_id.manager_id.name} &lt;${object.employee_id.department_id.manager_id.work_email|safe}&gt;</field>
            <field name="email_to">${object.employee_id.work_email|safe}</field>
            <field name="subject">Expense Advance Approved</field>
            <field name="body_html"><![CDATA[
<p>Your Expense Advance is approved.</p>
			]]></field>
        </record>

        <record id="email_template_notification_submit_expense" model="mail.template">
            <field name="name">Notification to Dept Head to Approve Expense</field>
            <field name="model_id" ref="hr_expense.model_hr_expense"/>
            <field name="auto_delete" eval="True"/>
            <field name="email_from"><![CDATA[${object.employee_id.name} <${(object.employee_id.work_email or object.company_id.email)|safe}>]]></field>
            <field name="email_to">${object.employee_id.department_id.manager_id.work_email|safe}</field>
            <field name="subject">Expense Approval: ${object.name} from ${object.employee_id.name or 'Unknown'}</field>
            <field name="body_html"><![CDATA[
<p>This Expense need to Approve by you. Here are some details:</p>
<ul>
	<li>Description: <strong>${object.name}</strong></li>
	<li>Employee: ${object.employee_id.name}</li>
	<li>Amount: <strong>${"{:,.2f}".format(object.total_amount)}</strong></li>
	% if object.description:
	<li>Notes: ${object.description}</li>
	% endif
</ul>
            ]]></field>
        </record>
        
        <record id="email_template_notification_approve_expense" model="mail.template">
            <field name="name">Notification Approved Expense</field>
            <field name="model_id" ref="hr_expense.model_hr_expense"/>
            <field name="auto_delete" eval="True"/>
            <field name="email_from">${object.employee_id.department_id.manager_id.name} &lt;${object.employee_id.department_id.manager_id.work_email|safe}&gt;</field>
            <field name="email_to">${object.employee_id.work_email|safe}</field>
            <field name="subject">Expense Approved</field>
            <field name="body_html"><![CDATA[
<p>Your Expense is approved.</p>
			]]></field>
        </record>
    </data>
</odoo>
